# Домашнее задание к занятию «Микросервисы: принципы»

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.

## Задача 1: API Gateway 

Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

## Ответ:
Для реализации API Gateway я предлагаю использовать Kong. Рассмотрим его возможности сравнительно с другими программными решениями:

| Решение | Маршрутизация запросов | Проверка аутентификации | Терминация HTTPS |
|---------|-----------------------|--------------------------|------------------|
| Kong    | Да                    | Да                       | Да               |
| Tyk     | Да                    | Да                       | Да               |
| Apigee  | Да                    | Да                       | Да               |
| AWS API Gateway | Да            | Да                       | Да               |

Все рассмотренные решения имеют необходимые возможности. Однако, Kong выделяется своей гибкостью и простотой настройки. Кроме того, он бесплатен в использовании и имеет активное сообщество разработчиков, что обеспечивает поддержку и обновления. 

Таким образом, я рекомендую использовать Kong для реализации API Gateway.

## Задача 2: Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

## Ответ:
| Решение | Кластеризация | Хранение сообщений | Скорость работы | Поддержка форматов сообщений | Разделение прав доступа | Простота эксплуатации |
|---------|---------------|---------------------|----------------|------------------------------|--------------------------|------------------------|
| Apache Kafka | Да             | Да                  | Очень высокая  | JSON, Avro, Protobuf          | Да                       | Сложная                 |
| RabbitMQ | Да             | Да                  | Высокая         | JSON, XML, Protobuf           | Да                       | Простая                 |
| ActiveMQ | Да             | Да                  | Высокая         | XML, JSON, CSV, Binary        | Да                       | Простая                 |
| Redis Pub/Sub | Нет            | Нет                 | Очень высокая  | JSON, MessagePack, Protobuf   | Нет                      | Простая                 |

Исходя из требований, наиболее подходящим решением будет RabbitMQ. Он поддерживает кластеризацию, хранение сообщений на диске в процессе доставки, высокую скорость работы и поддерживает различные форматы сообщений. Кроме того, он имеет простой интерфейс и легко настраивается. RabbitMQ также обеспечивает разделение прав доступа к различным потокам сообщений, что соответствует требованию.
